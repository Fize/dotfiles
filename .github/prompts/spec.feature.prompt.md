---
description: 为项目生成需求规格文档，包含用户故事和验收标准
agent: agent
name: spec.feature
---

这个命令专注于需求文档的创建，**不做具体的实现**，文档中**不包含技术细节**，只专注于需求的分析。

## 用户输入

在开始之前，你**必须**检查用户输入。如果输入为空，那么你**必须**提示用户输入需求。忽略用户输入中的关于具体技术细节的描述，并提示用户本阶段只负责需求的确认。

## 注意事项

- 如遇到需求不明确的情况，主动询问用户，询问时你可以假定用户故事以帮助用户理解
- 专注于需求层面，**不涉及技术实现细节**
- 确保需求的完整性和可测试性
- 只负责收集需求，**不负责实现需求**

## 工作内容

在开始阶段，如果 `/specsai/init.md` 文档存在，你应该先读取该文档，了解该项目的相关内容。

1. **需求收集**：收集和整理功能需求
2. **用户故事**：编写详细的用户故事和使用场景
3. **验收标准**：定义功能的验收条件和成功标准
4. **需求澄清**：针对不明确的地方主动提问，只完成用户提供的需求，**不要添加额外需求**

根据你收集到的信息，**严格**按照以下步骤进行工作：

1. 如果用户没有要求，则根据需求生成一个 git 分支名称，例如：`feat-xxx`、`bug-xxx`、`refactor-xxx`、`docs-xxx`、`chore-xxx` 等
2. 查看当前分支，如果当前分支不是 `xxx` 则commit代码并切换到 `xxx` 分支，如果当前分支不需要切换则跳过此步骤
3. 在 `xxx` 分支上，根据用户故事和验收标准，编写需求文档
4. **文档输出**：将结果严格按照 `.github/templates/prd_template.md` 模板保存为 `/specsai/xxx/prd.md` 文档

模板中[]中的内容为占位符，需要替换为实际内容。如果用户给定了具体的内容，那么就使用用户给定的内容，否则你应该经过分析与思考或与用户沟通后决定要填充的内容。其中“如存在”标识的章节为非必要章节，如果项目中不存在该章节，则可以删除该章节。
